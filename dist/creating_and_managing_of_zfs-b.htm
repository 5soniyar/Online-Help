<!DOCTYPE HTML>
<html>
<head>
   <title>Creating and Managing ZFS-based Lustre file systems</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="Intel® Manager for Lustre* software is able to create and manage Lustre file systems that are based on OpenZFS object storage device (OSD) volumes. The software installs the..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "gui_pages_and_tabs.htm",
   prevP: "add_servers_to_be_monitored.htm",
   currP: "creating_and_managing_of_zfs-b.htm",
   defP: "intel_manager_for_lustre.htm",
   mailUrl: "",
   mailUrlQuery: "",
   titleP: "Creating and Managing ZFS-based Lustre file systems",
   mailsubject: "Feedback on: Intel® Manager for Lustre* software - Creating and Managing ZFS-based Lustre file systems",
   sharesubject: "Intel® Manager for Lustre* software - Creating and Managing ZFS-based Lustre file systems",
   simplesubject: "Documentation%20Feedback",
   mailid: "Creating_and_Managing_of_ZFS-b",
   mailpath: "Creating and Managing ZFS-based Lustre file systems /",
   mailbody: "Dear Support Staff,",
   fbtype: false,
   header: true,
   background: "bg.png",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   printFooter: true,
   zoomTip: "Click to view full size image",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print the current topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Contents",
   atoc_tip: "Jump to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No contents entries on this page",
   atoc_btntip_on: "Display/hide topic directory",
   atoc_toptip: "Jump to top of page",
   atoc_top: "Scroll to Top of Page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click to sort on this column",
   umlauts: "false"
   }

</script>

<script type="text/javascript">
if (tVars.topicTitleBar) { 
$(document).ready(function() {
var doc = document;  
try {
if (parent.hmWebHelp.navWidth != null) doc = parent.document;
doc.title = $("<div/>").html("Intel® Manager for Lustre* software - Creating and Managing ZFS-based Lustre file systems").text();
window.onunload = function() {doc.title = $("<div/>").html("Intel® Manager for Lustre* software").text();}
} catch(err) {}
});
}
</script>

<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "creating_and_managing_of_zfs-b.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->



<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Creating and Managing ZFS-based Lustre file systems</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
 
<h1 class="p_Heading1"><span class="f_Heading1">Creating and Managing ZFS-based Lustre file systems</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No contents entries on this page" title="No contents entries on this page" />
<br /><span>Contents</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>

<!--ZOOMRESTART-->
<p class="p_BodyText"><span class="f_BodyText">Intel® Manager for Lustre* software is able to create and manage Lustre file systems that are based on OpenZFS object storage device (OSD) volumes. The software installs the necessary packages, formats Lustre targets in ZFS pools, and creates the high-availability software framework for managing availability for Lustre + ZFS servers.</span></p>
<p class="p_BodyText"><span class="f_BodyText">The procedures in this section first assume that you have assembled and configured the physical hardware: servers, storage devices, network interfaces, etc., and installed Intel® Manager for Lustre software as instructed in the </span><span class="f_BodyText" style="font-style: italic;">Intel® Enterprise Edition for Lustre* Software Installation Guide.  </span></p>
<p class="p_BodyText"><span class="f_BodyText">To create and manage an OpenZFS-based Lustre file system this is highly-available and managed by Intel® Manager for Lustre* software, perform these steps:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: 1.10;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;">1.</span></td><td style="border:none"><span class="f_BodyText">Add all of the physical servers that will comprise your ZFS-based Lustre file system. To do this, perform the steps in <a href="configure_storage_servers.htm" class="topiclink">Add one or more HA servers</a>. Add each server as a Managed Storage Server.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: 1.10;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;">2.</span></td><td style="border:none"><span class="f_BodyText">For high-availability, configure your servers as primary and fail-over servers. &nbsp;Perform the steps in <a href="configure_the_volumes.htm" class="topiclink">Configure primary and fail-over servers</a>.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: 1.10;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;">3.</span></td><td style="border:none"><span class="f_BodyText">If your are using power distribution units (PDUs) for power control, then for each server, perform the steps in <a href="configure_power_distribution_u.htm" class="topiclink">Add power distribution units</a>. &nbsp;Then perform the steps in <a href="assign_pdu_outlets_to_servers.htm" class="topiclink">Assign PDU outlets to servers</a> for each server.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: 1.10;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;">4.</span></td><td style="border:none"><span class="f_BodyText">If you are using Baseboard Management Controllers (BMCs) for power control, then perform the steps in <a href="configure_ipmi_and_add_bmcs.htm" class="topiclink">Assign BMCs to servers</a> for each server.  </span></td></tr></table></div><p class="p_BodyText" style="margin: 0px 0px 8px 24px;"><span class="f_BodyText" style="font-weight: bold;">Note</span><span class="f_BodyText">: When you are finished with power control configuration for each server (step 3 or 4), DO NOT create the new Lustre file system yet.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: 1.10;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;">5.</span></td><td style="border:none"><span class="f_BodyText">You now need to configure zpools, and ensure that for HA, each zpool must be importable/visible on paired HA servers. To do this, refer to the section </span><span class="f_BodyText" style="font-style: italic;">ZFS Storage Pool Basics</span><span class="f_BodyText">, in the guide titled</span><span class="f_BodyText" style="font-style: italic;"> Lustre* Installation and Configuration using Intel® EE for Lustre* Software and OpenZFS</span><span class="f_BodyText">. </span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: 1.10;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;">6.</span></td><td style="border:none"><span class="f_BodyText">After you have configured zpools and imported each pool on the desired server, perform the steps in <a href="create_the_file_system.htm" class="topiclink">Create the new Lustre file system</a>, using the zpools you created in step 5 as object storage targets (volumes),</span><span class="f_BodyText" style="font-style: italic;"> </span><span class="f_BodyText">rather than direct block devices. &nbsp;Each ZFS pool that you created will appear as a target, with the </span><span class="f_BodyText" style="font-style: italic;">Type</span><span class="f_BodyText"> identified as a </span><span class="f_BodyText" style="font-weight: bold;">ZfsPool.</span></td></tr></table></div>
<!--ZOOMSTOP-->

</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
